/*
ENC BANG🗿

MW NO ENC?
BOLEH, 40K AJA HEHE

🗣️:  mahal banget
👤: BIARIN, KLO ADA YG BELI, YA BAGUS
KLO GK ADA YA BODO AMAT

GW JUGA GA NIAT JUAL🗿
klo membeli, ke nomor ini 081335334848
dijual cuma ke 4 orang pertama, no enc 99,99%
enc main.js doang, soalnya bukan punya gw🗿
*/

const _0x24b325=_0x4b16;(function(_0x2856d0,_0x1bf2cb){const _0x18ff53=_0x4b16,_0x3e5754=_0x2856d0();while(!![]){try{const _0x8e2851=-parseInt(_0x18ff53(0x1ab))/0x1+-parseInt(_0x18ff53(0x198))/0x2*(parseInt(_0x18ff53(0x162))/0x3)+-parseInt(_0x18ff53(0x164))/0x4+-parseInt(_0x18ff53(0x1b2))/0x5+parseInt(_0x18ff53(0x17d))/0x6+parseInt(_0x18ff53(0x1c0))/0x7+parseInt(_0x18ff53(0x1ba))/0x8;if(_0x8e2851===_0x1bf2cb)break;else _0x3e5754['push'](_0x3e5754['shift']());}catch(_0xb9e2eb){_0x3e5754['push'](_0x3e5754['shift']());}}}(_0x3bbc,0xef563));const Jimp=require(_0x24b325(0x188)),axios=require(_0x24b325(0x19e));function _0x4b16(_0x25f93d,_0x3ea031){const _0x3bbce5=_0x3bbc();return _0x4b16=function(_0x4b16bf,_0x301e1a){_0x4b16bf=_0x4b16bf-0x15c;let _0x531e73=_0x3bbce5[_0x4b16bf];return _0x531e73;},_0x4b16(_0x25f93d,_0x3ea031);}class GameSession{constructor(_0x1717d8,_0x1a0ca4){const _0x4a57f6=_0x24b325;this['id']=_0x1717d8,this['players']=[],this[_0x4a57f6(0x1a1)]=new SnakeAndLadderGame(_0x1a0ca4);}}function _0x3bbc(){const _0x5b7716=['MIME_PNG','🐍🎲\x20*Selamat\x20datang\x20di\x20Permainan\x20Ular\x20Tangga!*\x20🎲🐍\x20\x0a\x0a@','data','1083091vkLqjD','Mundur','*Anda\x20sudah\x20bergabung\x20atau\x20permainan\x20sudah\x20penuh.*\x20Tidak\x20dapat\x20bergabung.','\x20*bergabung\x20ke\x20dalam\x20permainan.*','🎲\x20@','cellWidth','bgImage','1233085fdxIVV','reset','started','currentPlayerIndex','fetchImage','length','player2ImageUrl','ular','20163232FdkkNH','push','\x20join\x20:\x20Bergabung\x20ke\x20dalam\x20permainan.\x0a-\x20','reply','🕒\x20*Bukan\x20giliranmu.*\x20\x0a\x0aSekarang\x20giliran\x20@','startGame','9463034jhQcjr','command','https://i.pinimg.com/originals/be/68/13/be6813a6086681070b0f886d33ca4df9.jpg','sendMsg','👋\x20@','players','movePlayer','3LMLIur','playTurn','2583584LMuHZH','.*\x20Kembali\x20ke\x20awal\x20cell.*','🎲\x20Anda\x20mendapat\x206,\x20jadi\x20giliran\x20Anda\x20masih\x20berlanjut.','from','🔄\x20*Sesi\x20permainan\x20direset.*','player1Image','tags','bgImageUrl','tangga','🎉\x20@','getBoardBuffer','end','resize','chat','🛑\x20*Permainan\x20belum\x20dimulai.*\x20Ketik\x20\x22!snake\x20start\x22\x20untuk\x20memulai.','Error\x20fetching\x20image\x20from\x20','\x20*ke\x20kotak\x20','\x20vs\x20@','initializeGame','composite','binary','floor','❓\x20*Perintah\x20tidak\x20valid.*\x20Gunakan\x20','switchPlayer','help','3735654HtmDMB','\x20*melempar\x20dadu.*\x0a\x0a\x20\x20-\x20Dadu:\x20*','https://i.pinimg.com/originals/75/33/22/7533227c53f6c270a96d364b595d6dd5.jpg','🛑\x20*Permainan\x20sudah\x20dimulai.*\x20Tidak\x20dapat\x20bergabung.','sendMessage','player2Image','snakesAndLadders','error','currentPositions','read','resetSession','jimp','ulartangga_','roll','🐍\x20@','boardSize','start','find','rollDice','\x20menemukan\x20','min','\x20*diinjak\x20oleh*\x20@','join','👥\x20*Tidak\x20cukup\x20pemain\x20untuk\x20memulai\x20permainan.*\x20Diperlukan\x20minimal\x202\x20pemain.','addPlayer','keyId','*\x0a\x20\x20-\x20Ke\x20kotak:\x20*','3077896ZtxFTb','\x20reset\x20:\x20Mereset\x20sesi\x20permainan.','ulartangga','cellHeight','🎲🐍\x20*Permainan\x20Ular\x20Tangga*\x20🐍🎲\x0a\x0a*Commands:*\x0a-\x20','🛑\x20*Permainan\x20sudah\x20dimulai.*\x20Tidak\x20dapat\x20memulai\x20ulang.','axios','\x20help\x20untuk\x20melihat\x20daftar\x20perintah.','*\x0a\x20\x20-\x20Dari\x20kotak:\x20*','game','player1ImageUrl','Maju','sender','split','\x20menang!\x20Selamat!','random'];_0x3bbc=function(){return _0x5b7716;};return _0x3bbc();}class SnakeAndLadderGame{constructor(_0x533679){const _0x3d4325=_0x24b325;this[_0x3d4325(0x15e)]=_0x533679,this['players']=[],this[_0x3d4325(0x18c)]=0x64,this[_0x3d4325(0x183)]=[{'start':0x1d,'end':0x7},{'start':0x18,'end':0xc},{'start':0xf,'end':0x25},{'start':0x17,'end':0x29},{'start':0x48,'end':0x24},{'start':0x31,'end':0x56},{'start':0x5a,'end':0x38},{'start':0x4b,'end':0x40},{'start':0x4a,'end':0x5f},{'start':0x5b,'end':0x48},{'start':0x61,'end':0x4e}],this[_0x3d4325(0x185)]={},this[_0x3d4325(0x1b5)]=0x0,this[_0x3d4325(0x16b)]='https://i.pinimg.com/originals/2f/68/a7/2f68a7e1eee18556b055418f7305b3c0.jpg',this[_0x3d4325(0x1a2)]=_0x3d4325(0x17f),this[_0x3d4325(0x1b8)]=_0x3d4325(0x15d),this[_0x3d4325(0x1b1)]=null,this[_0x3d4325(0x169)]=null,this[_0x3d4325(0x182)]=null,this[_0x3d4325(0x1b0)]=0x28,this[_0x3d4325(0x19b)]=0x28,this['keyId']=null,this[_0x3d4325(0x1b4)]=![];}[_0x24b325(0x176)](){const _0x18d39e=_0x24b325;for(const _0x11f924 of this[_0x18d39e(0x160)]){this['currentPositions'][_0x11f924]=0x1;}this[_0x18d39e(0x1b5)]=0x0,this[_0x18d39e(0x1b4)]=!![];}[_0x24b325(0x18f)](){const _0x50242d=_0x24b325;return Math['floor'](Math[_0x50242d(0x1a7)]()*0x6)+0x1;}async[_0x24b325(0x161)](_0x137435,_0x27c903){const _0x59677e=_0x24b325;if(this[_0x59677e(0x160)][_0x59677e(0x1b7)]===0x0)return;const _0x542609=this['currentPositions'][_0x137435];let _0x279e4f=_0x542609+_0x27c903;for(const _0x3c0418 of this[_0x59677e(0x160)]){if(_0x3c0418!==_0x137435&&this[_0x59677e(0x185)][_0x3c0418]===_0x279e4f){const _0x38a92e='😱\x20*Oh\x20tidak!*\x20@'+_0x137435[_0x59677e(0x1a5)]('@')[0x0]+_0x59677e(0x192)+_0x3c0418[_0x59677e(0x1a5)]('@')[0x0]+_0x59677e(0x165);await m['reply'](_0x38a92e,null,{'mentions':[_0x137435,_0x3c0418]}),_0x279e4f=0x1;}}const _0x2f9365=this[_0x59677e(0x183)][_0x59677e(0x18e)](_0x2f1d50=>_0x2f1d50['start']===_0x279e4f);if(_0x2f9365)_0x279e4f=_0x2f9365['end'];_0x279e4f=Math[_0x59677e(0x191)](_0x279e4f,this[_0x59677e(0x18c)]),this['currentPositions'][_0x137435]=_0x279e4f;}async[_0x24b325(0x1b6)](_0x498705){const _0x468ccc=_0x24b325;try{const _0x48d9f1=await axios['get'](_0x498705,{'responseType':'arraybuffer'});return await Jimp[_0x468ccc(0x186)](Buffer[_0x468ccc(0x167)](_0x48d9f1[_0x468ccc(0x1aa)],_0x468ccc(0x178)));}catch(_0x132546){console[_0x468ccc(0x184)](_0x468ccc(0x173)+_0x498705+':',_0x132546);throw _0x132546;}}async[_0x24b325(0x16e)](){const _0x3dcbe4=_0x24b325,_0x3c29e4=new Jimp(0x1a4,0x1a4);this['bgImage'][_0x3dcbe4(0x170)](0x1a4,0x1a4),_0x3c29e4[_0x3dcbe4(0x177)](this['bgImage'],0x0,0x0);for(const _0xdbd64f of this['players']){const _0x4cee48=this[_0x3dcbe4(0x185)][_0xdbd64f],_0x12dae6=_0xdbd64f===this[_0x3dcbe4(0x160)][0x0]?this[_0x3dcbe4(0x169)]:this[_0x3dcbe4(0x182)],_0x4fa837=(_0x4cee48-0x1)%0xa*this[_0x3dcbe4(0x1b0)]+0xa,_0x4b5233=(0x9-Math[_0x3dcbe4(0x179)]((_0x4cee48-0x1)/0xa))*this[_0x3dcbe4(0x19b)]+0xa;_0x3c29e4[_0x3dcbe4(0x177)](_0x12dae6['clone']()[_0x3dcbe4(0x170)](this[_0x3dcbe4(0x1b0)],this['cellHeight']),_0x4fa837,_0x4b5233);}return _0x3c29e4['getBufferAsync'](Jimp[_0x3dcbe4(0x1a8)]);}async['startGame'](_0x199980,_0x354fab,_0x4c3e32){const _0x23859b=_0x24b325;await _0x199980[_0x23859b(0x1bd)](_0x23859b(0x1a9)+_0x354fab[_0x23859b(0x1a5)]('@')[0x0]+_0x23859b(0x175)+_0x4c3e32[_0x23859b(0x1a5)]('@')[0x0],null,{'mentions':[_0x354fab,_0x4c3e32]}),this[_0x23859b(0x160)]=[_0x354fab,_0x4c3e32],this['initializeGame']();if(!this[_0x23859b(0x1b1)])this[_0x23859b(0x1b1)]=await this[_0x23859b(0x1b6)](this[_0x23859b(0x16b)]);if(!this['player1Image'])this[_0x23859b(0x169)]=await this[_0x23859b(0x1b6)](this[_0x23859b(0x1a2)]);if(!this[_0x23859b(0x182)])this[_0x23859b(0x182)]=await this[_0x23859b(0x1b6)](this[_0x23859b(0x1b8)]);const _0x4db17f=await this[_0x23859b(0x16e)](),{key:_0x5266cd}=await _0x199980[_0x23859b(0x1bd)](_0x4db17f);this[_0x23859b(0x196)]=_0x5266cd;}async[_0x24b325(0x163)](_0x427370,_0x53c2a4){const _0x31d91e=_0x24b325;if(!this[_0x31d91e(0x160)]['length']){await _0x427370[_0x31d91e(0x1bd)]('🛑\x20*Tidak\x20ada\x20permainan\x20aktif.*\x20Gunakan\x20\x22!snake\x20start\x22\x20untuk\x20memulai\x20permainan\x20baru.');return;}if(_0x53c2a4!==this[_0x31d91e(0x160)][this['currentPlayerIndex']]){await _0x427370['reply'](_0x31d91e(0x1be)+this['players'][this['currentPlayerIndex']]['split']('@')[0x0],null,{'mentions':[this[_0x31d91e(0x160)][this[_0x31d91e(0x1b5)]]]});return;}const _0x42736d=this[_0x31d91e(0x18f)]();await _0x427370[_0x31d91e(0x1bd)](_0x31d91e(0x1af)+_0x53c2a4[_0x31d91e(0x1a5)]('@')[0x0]+_0x31d91e(0x17e)+_0x42736d+_0x31d91e(0x1a0)+this[_0x31d91e(0x185)][_0x53c2a4]+_0x31d91e(0x197)+(this[_0x31d91e(0x185)][_0x53c2a4]+_0x42736d)+'*',null,{'mentions':[_0x53c2a4]});if(_0x42736d!==0x6){this[_0x31d91e(0x161)](_0x53c2a4,_0x42736d);const _0x153bbc=this[_0x31d91e(0x183)]['find'](_0x45e510=>_0x45e510[_0x31d91e(0x18d)]===this[_0x31d91e(0x185)][_0x53c2a4]);if(_0x153bbc){const _0x52f6ac=_0x153bbc[_0x31d91e(0x16f)]<_0x153bbc['start']?'Mundur':_0x31d91e(0x1a3);await _0x427370[_0x31d91e(0x1bd)](_0x31d91e(0x18b)+_0x53c2a4[_0x31d91e(0x1a5)]('@')[0x0]+_0x31d91e(0x190)+(_0x52f6ac===_0x31d91e(0x1ac)?_0x31d91e(0x1b9):_0x31d91e(0x16c))+'!\x20'+_0x52f6ac+_0x31d91e(0x174)+_0x153bbc[_0x31d91e(0x16f)]+'.*',null,{'mentions':[_0x53c2a4]}),this[_0x31d91e(0x185)][_0x53c2a4]=_0x153bbc[_0x31d91e(0x16f)];}}_0x42736d!==0x6?this['switchPlayer']():(await _0x427370['reply'](_0x31d91e(0x166)),this[_0x31d91e(0x161)](_0x53c2a4,_0x42736d));this[_0x31d91e(0x185)][_0x53c2a4]===this[_0x31d91e(0x18c)]&&(await _0x427370[_0x31d91e(0x1bd)](_0x31d91e(0x16d)+_0x53c2a4[_0x31d91e(0x1a5)]('@')[0x0]+_0x31d91e(0x1a6),null,{'mentions':[_0x53c2a4]}),this[_0x31d91e(0x187)]());const _0x445beb=await this[_0x31d91e(0x16e)](),_0x143280=this[_0x31d91e(0x15e)];await _0x143280[_0x31d91e(0x181)](_0x427370[_0x31d91e(0x171)],{'delete':this[_0x31d91e(0x196)]});const {key:_0x4f04f8}=await _0x427370['reply'](_0x445beb);this[_0x31d91e(0x196)]=_0x4f04f8;return;}[_0x24b325(0x195)](_0x4bf4c4){const _0x4cf838=_0x24b325;return this['players'][_0x4cf838(0x1b7)]<0x2&&!this[_0x4cf838(0x160)]['includes'](_0x4bf4c4)&&_0x4bf4c4!==''?(this[_0x4cf838(0x160)][_0x4cf838(0x1bb)](_0x4bf4c4),!![]):![];}[_0x24b325(0x17b)](){const _0x59d0fb=_0x24b325;this[_0x59d0fb(0x1b5)]=0x1-this['currentPlayerIndex'];}[_0x24b325(0x187)](){const _0x1ff168=_0x24b325;this[_0x1ff168(0x160)]=[],this[_0x1ff168(0x185)]={},this[_0x1ff168(0x1b5)]=0x0,this['started']=![];}['isGameStarted'](){const _0x47ae11=_0x24b325;return this[_0x47ae11(0x1b4)];}}const handler=async(_0x4550d2,{args:_0x5cb36e,usedPrefix:_0x313113,command:_0x2a0add})=>{const _0x4414da=_0x24b325;conn[_0x4414da(0x19a)]=conn[_0x4414da(0x19a)]||{};const _0x42815c=conn[_0x4414da(0x189)]=conn['ulartangga_']||{},_0x32c299=_0x4550d2[_0x4414da(0x171)],_0x188a43=_0x42815c[_0x32c299]||(_0x42815c[_0x32c299]=new GameSession(_0x32c299,conn)),_0x5d808a=_0x188a43[_0x4414da(0x1a1)],{state:_0x547622}=conn['ulartangga'][_0x4550d2[_0x4414da(0x171)]]||{'state':![]};switch(_0x5cb36e[0x0]){case _0x4414da(0x193):if(_0x547622)return _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x180));const _0x25f4f0=_0x4550d2[_0x4414da(0x1a4)],_0x47590e=_0x5d808a[_0x4414da(0x195)](_0x25f4f0);_0x47590e?_0x4550d2['reply'](_0x4414da(0x15f)+_0x25f4f0['split']('@')[0x0]+_0x4414da(0x1ae),null,{'mentions':[_0x25f4f0]}):_0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x1ad));break;case _0x4414da(0x18d):if(_0x547622)return _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x19d));conn[_0x4414da(0x19a)][_0x4550d2['chat']]={...conn[_0x4414da(0x19a)][_0x4550d2[_0x4414da(0x171)]],'state':!![]};_0x5d808a['players']['length']===0x2?await _0x5d808a[_0x4414da(0x1bf)](_0x4550d2,_0x5d808a[_0x4414da(0x160)][0x0],_0x5d808a[_0x4414da(0x160)][0x1]):await _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x194));break;case _0x4414da(0x18a):if(!_0x547622)return _0x4550d2[_0x4414da(0x1bd)]('🛑\x20*Permainan\x20belum\x20dimulai.*\x20Ketik\x20\x22!snake\x20start\x22\x20untuk\x20memulai.');if(_0x5d808a['isGameStarted']()){const _0x206257=_0x5d808a[_0x4414da(0x160)][_0x5d808a['currentPlayerIndex']];_0x4550d2['sender']!==_0x206257?await _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x1be)+_0x206257['split']('@')[0x0],null,{'mentions':[_0x206257]}):await _0x5d808a['playTurn'](_0x4550d2,_0x206257);}else await _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x172));break;case _0x4414da(0x1b3):conn[_0x4414da(0x19a)][_0x4550d2[_0x4414da(0x171)]]={...conn[_0x4414da(0x19a)][_0x4550d2[_0x4414da(0x171)]],'state':![]},_0x188a43[_0x4414da(0x1a1)][_0x4414da(0x187)](),delete _0x42815c[_0x32c299],await _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x168));break;case'help':await _0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x19c)+(_0x313113+_0x2a0add)+_0x4414da(0x1bc)+(_0x313113+_0x2a0add)+'\x20start\x20:\x20Memulai\x20permainan.\x0a-\x20'+(_0x313113+_0x2a0add)+'\x20roll\x20:\x20Melempar\x20dadu\x20untuk\x20bergerak.\x0a-\x20'+(_0x313113+_0x2a0add)+_0x4414da(0x199));break;default:_0x4550d2[_0x4414da(0x1bd)](_0x4414da(0x17a)+(_0x313113+_0x2a0add)+_0x4414da(0x19f));}};handler[_0x24b325(0x17c)]=[_0x24b325(0x19a)],handler[_0x24b325(0x16a)]=['game'],handler[_0x24b325(0x15c)]=/^(ular(tangga)?|ladders|snak(e)?)$/i,module['exports']=handler;